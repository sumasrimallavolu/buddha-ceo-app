{
  "permissions": {
    "allow": [
      "mcp__plugin_serena_serena__list_dir",
      "mcp__plugin_serena_serena__activate_project",
      "mcp__plugin_serena_serena__find_file",
      "Bash(netstat:*)",
      "Bash(ls:*)",
      "Bash(curl:*)",
      "Bash(vercel:*)",
      "Bash(npm install:*)",
      "Bash(find:*)",
      "Bash(npm run build:*)",
      "Bash(taskkill:*)",
      "Bash(git commit:*)",
      "Bash(git push)",
      "Bash(git add:*)",
      "Bash(git revert:*)",
      "mcp__plugin_serena_serena__initial_instructions",
      "mcp__plugin_serena_serena__get_current_config",
      "Bash(npm run type-check:*)",
      "WebSearch",
      "Bash(timeout:*)",
      "mcp__plugin_serena_serena__read_memory",
      "Bash(dir \"app\\\\api\\\\admin\\\\content\"\")",
      "Bash(npm run db:import-about:*)",
      "mcp__plugin_serena_serena__read_file",
      "mcp__plugin_serena_serena__replace_content",
      "mcp__plugin_serena_serena__search_for_pattern",
      "Bash(cd:*)",
      "mcp__plugin_serena_serena__replace_symbol_body",
      "mcp__plugin_serena_serena__create_text_file",
      "Bash(git push:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(git checkout:*)",
      "Bash(tee:*)",
      "Bash(npx tsc:*)",
      "Bash(findstr:*)",
      "Bash(test:*)",
      "Bash(openssl:*)",
      "Bash(tasklist:*)",
      "Bash(powershell:*)",
      "Bash(grep:*)",
      "Bash(node:*)",
      "Bash(tail:*)",
      "Bash(npm run dev)",
      "Bash(if exist .next rmdir /s /q .next)",
      "Bash(pkill:*)",
      "Bash(dir *.md /b)",
      "Bash(git log:*)",
      "Bash(\"app/api/registrations/route.ts\" << 'EOF'\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport connectDB from '@/lib/mongodb';\nimport { Registration } from '@/lib/models';\n\n// GET check if user is registered for an event\nexport async function GET\\(request: NextRequest\\) {\n  try {\n    const session = await getServerSession\\(authOptions\\);\n\n    if \\(!session || !session.user\\) {\n      return NextResponse.json\\(\n        { error: 'Unauthorized - Please sign in' },\n        { status: 401 }\n      \\);\n    }\n\n    await connectDB\\(\\);\n\n    // Get eventId from query params\n    const { searchParams } = new URL\\(request.url\\);\n    const eventId = searchParams.get\\('eventId'\\);\n\n    if \\(!eventId\\) {\n      return NextResponse.json\\(\n        { error: 'Event ID is required' },\n        { status: 400 }\n      \\);\n    }\n\n    // Check if user has a registration for this event\n    const registration = await Registration.findOne\\({\n      eventId: eventId,\n      email: session.user.email,\n      status: { $ne: 'cancelled' },\n    }\\);\n\n    return NextResponse.json\\({\n      success: true,\n      registered: !!registration,\n      registrationId: registration?._id.toString\\(\\),\n      status: registration?.status,\n    }\\);\n  } catch \\(error\\) {\n    console.error\\('Error checking registration:', error\\);\n    return NextResponse.json\\(\n      { error: 'Failed to check registration' },\n      { status: 500 }\n    \\);\n  }\n}\nEOF)",
      "Bash(\"scripts/add-testimonials.js\" << 'EOF'\nconst mongoose = require\\('mongoose'\\);\nconst Resource = require\\('../lib/models/Resource'\\);\n\nconst testimonials = [\n  {\n    title: 'Meditation Experience',\n    subtitle: 'Program Participant',\n    quote: 'This meditation program has transformed my life in ways I never imagined. The techniques are simple yet profound.',\n    videoUrl: 'https://www.youtube.com/watch?v=9QSKyMf98uY',\n    type: 'testimonial',\n    category: 'Transformation',\n    order: 1,\n    status: 'published'\n  },\n  {\n    title: 'Inner Peace Journey',\n    subtitle: 'Meditation Practitioner',\n    quote: 'Finding inner peace through this practice has been the greatest gift. The guidance and support are exceptional.',\n    videoUrl: 'https://www.youtube.com/watch?v=_5NTRAnF-Ic',\n    type: 'testimonial',\n    category: 'Transformation',\n    order: 2,\n    status: 'published'\n  }\n];\n\nasync function addTestimonials\\(\\) {\n  try {\n    // Connect to MongoDB\n    const MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/meditation';\n    await mongoose.connect\\(MONGODB_URI\\);\n    console.log\\('Connected to MongoDB'\\);\n\n    // Insert testimonials\n    for \\(const testimonial of testimonials\\) {\n      const existing = await Resource.findOne\\({\n        videoUrl: testimonial.videoUrl\n      }\\);\n\n      if \\(existing\\) {\n        console.log\\(`Testimonial already exists: ${testimonial.title}`\\);\n        continue;\n      }\n\n      const created = await Resource.create\\(testimonial\\);\n      console.log\\(`Created testimonial: ${created.title}`\\);\n    }\n\n    console.log\\('Testimonials added successfully!'\\);\n    process.exit\\(0\\);\n  } catch \\(error\\) {\n    console.error\\('Error adding testimonials:', error\\);\n    process.exit\\(1\\);\n  }\n}\n\naddTestimonials\\(\\);\nEOF)",
      "Bash(\"scripts/add-testimonials.js\" << 'EOF'\nconst { MongoClient } = require\\('mongodb'\\);\n\nconst testimonials = [\n  {\n    title: 'Meditation Experience',\n    subtitle: 'Program Participant',\n    quote: 'This meditation program has transformed my life in ways I never imagined. The techniques are simple yet profound.',\n    videoUrl: 'https://www.youtube.com/watch?v=9QSKyMf98uY',\n    type: 'testimonial',\n    category: 'Transformation',\n    order: 1,\n    status: 'published'\n  },\n  {\n    title: 'Inner Peace Journey',\n    subtitle: 'Meditation Practitioner',\n    quote: 'Finding inner peace through this practice has been the greatest gift. The guidance and support are exceptional.',\n    videoUrl: 'https://www.youtube.com/watch?v=_5NTRAnF-Ic',\n    type: 'testimonial',\n    category: 'Transformation',\n    order: 2,\n    status: 'published'\n  }\n];\n\nasync function addTestimonials\\(\\) {\n  const client = new MongoClient\\(process.env.MONGODB_URI || 'mongodb://localhost:27017'\\);\n  \n  try {\n    await client.connect\\(\\);\n    console.log\\('Connected to MongoDB'\\);\n    \n    const db = client.db\\(\\);\n    const collection = db.collection\\('resources'\\);\n    \n    for \\(const testimonial of testimonials\\) {\n      const existing = await collection.findOne\\({\n        videoUrl: testimonial.videoUrl\n      }\\);\n      \n      if \\(existing\\) {\n        console.log\\(`Testimonial already exists: ${testimonial.title}`\\);\n        await collection.updateOne\\(\n          { _id: existing._id },\n          { $set: { ...testimonial, updatedAt: new Date\\(\\) } }\n        \\);\n        console.log\\(`Updated testimonial: ${testimonial.title}`\\);\n        continue;\n      }\n      \n      testimonial.createdAt = new Date\\(\\);\n      testimonial.updatedAt = new Date\\(\\);\n      \n      const result = await collection.insertOne\\(testimonial\\);\n      console.log\\(`Created testimonial: ${testimonial.title} \\(ID: ${result.insertedId}\\)`\\);\n    }\n    \n    console.log\\('Testimonials added successfully!'\\);\n  } catch \\(error\\) {\n    console.error\\('Error adding testimonials:', error\\);\n  } finally {\n    await client.close\\(\\);\n  }\n}\n\naddTestimonials\\(\\);\nEOF)",
      "Bash(\"scripts/check-testimonials.js\" << 'EOF'\nconst { MongoClient } = require\\('mongodb'\\);\n\nasync function checkTestimonials\\(\\) {\n  const client = new MongoClient\\(process.env.MONGODB_URI\\);\n  \n  try {\n    await client.connect\\(\\);\n    console.log\\('Connected to MongoDB'\\);\n    \n    const db = client.db\\(\\);\n    const collection = db.collection\\('resources'\\);\n    \n    const testimonials = await collection.find\\({ type: 'testimonial' }\\).toArray\\(\\);\n    \n    console.log\\(`Found ${testimonials.length} testimonials:`\\);\n    testimonials.forEach\\(t => {\n      console.log\\(`- ${t.title} \\(${t.videoUrl}\\) - Status: ${t.status}`\\);\n    }\\);\n  } catch \\(error\\) {\n    console.error\\('Error:', error\\);\n  } finally {\n    await client.close\\(\\);\n  }\n}\n\ncheckTestimonials\\(\\);\nEOF)",
      "Bash(\"scripts/add-youtube-testimonials.js\" << 'EOF'\nconst mongoose = require\\('mongoose'\\);\nconst mongoUri = process.env.MONGODB_URI;\n\nif \\(!mongoUri\\) {\n  console.error\\('MONGODB_URI environment variable is not set'\\);\n  process.exit\\(1\\);\n}\n\n// Define the schema inline\nconst testimonialSchema = new mongoose.Schema\\({\n  title: String,\n  subtitle: String,\n  quote: String,\n  videoUrl: String,\n  thumbnailUrl: String,\n  type: String,\n  category: String,\n  order: Number,\n  status: String,\n  createdAt: Date,\n  updatedAt: Date\n}\\);\n\nconst testimonials = [\n  {\n    title: 'Meditation Experience',\n    subtitle: 'Program Participant',\n    quote: 'This meditation program has transformed my life in ways I never imagined. The techniques are simple yet profound.',\n    videoUrl: 'https://www.youtube.com/watch?v=9QSKyMf98uY',\n    type: 'testimonial',\n    category: 'Transformation',\n    order: 1,\n    status: 'published'\n  },\n  {\n    title: 'Inner Peace Journey',\n    subtitle: 'Meditation Practitioner',\n    quote: 'Finding inner peace through this practice has been the greatest gift. The guidance and support are exceptional.',\n    videoUrl: 'https://www.youtube.com/watch?v=_5NTRAnF-Ic',\n    type: 'testimonial',\n    category: 'Transformation',\n    order: 2,\n    status: 'published'\n  }\n];\n\nasync function addTestimonials\\(\\) {\n  try {\n    await mongoose.connect\\(mongoUri\\);\n    console.log\\('âœ… Connected to MongoDB'\\);\n    \n    const Resource = mongoose.model\\('Resource', testimonialSchema\\);\n    \n    console.log\\('ðŸ“ Adding testimonials to database...\\\\n'\\);\n    \n    for \\(const testimonial of testimonials\\) {\n      // Check if already exists\n      const existing = await Resource.findOne\\({\n        videoUrl: testimonial.videoUrl\n      }\\);\n      \n      if \\(existing\\) {\n        console.log\\(`âš ï¸  Already exists: ${testimonial.title}`\\);\n        console.log\\(`   Video: ${testimonial.videoUrl}`\\);\n        \n        // Update if needed\n        if \\(existing.status !== 'published'\\) {\n          await Resource.findByIdAndUpdate\\(existing._id, { \n            status: 'published',\n            updatedAt: new Date\\(\\)\n          }\\);\n          console.log\\(`   âœ… Updated status to 'published'`\\);\n        }\n        console.log\\(''\\);\n        continue;\n      }\n      \n      // Create new testimonial\n      testimonial.createdAt = new Date\\(\\);\n      testimonial.updatedAt = new Date\\(\\);\n      \n      const created = await Resource.create\\(testimonial\\);\n      console.log\\(`âœ… Created: ${created.title}`\\);\n      console.log\\(`   ID: ${created._id}`\\);\n      console.log\\(`   Video: ${created.videoUrl}`\\);\n      console.log\\(''\\);\n    }\n    \n    // Count total testimonials\n    const totalCount = await Resource.countDocuments\\({ type: 'testimonial' }\\);\n    const publishedCount = await Resource.countDocuments\\({ \n      type: 'testimonial', \n      status: 'published' \n    }\\);\n    \n    console.log\\('ðŸ“Š Summary:'\\);\n    console.log\\(`   Total testimonials: ${totalCount}`\\);\n    console.log\\(`   Published: ${publishedCount}`\\);\n    console.log\\('\\\\nâœ… Testimonials added successfully!'\\);\n    \n    process.exit\\(0\\);\n  } catch \\(error\\) {\n    console.error\\('âŒ Error adding testimonials:', error\\);\n    process.exit\\(1\\);\n  }\n}\n\naddTestimonials\\(\\);\nEOF)",
      "Bash(git restore:*)",
      "Bash(git show:*)",
      "Bash(git diff:*)",
      "Bash(wc:*)",
      "Bash(npx next build)"
    ]
  }
}
